<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>검색 결과</title>
</head>
<body>
<h1>상품 검색 결과</h1>

<!-- 검색 필터 폼 -->
<form action="/main/search" method="get">
    <label for="query">검색어:</label>
    <input type="text" id="query" name="query" placeholder="검색어를 입력하세요" />

    <br><br>

    <label for="category1">대분류:</label>
    <select id="category1" name="category1">
        <option value="">-- 선택하세요 --</option>
        <option value="디지털/가전">디지털/가전</option>
        <option value="가구">가구</option>
        <!-- 다른 대분류 추가 -->
    </select>

    <br><br>

    <label for="category2">중분류:</label>
    <select id="category2" name="category2">
        <option value="">-- 선택하세요 --</option>
        <option value="영상가전">영상가전</option>
        <option value="생활가전">생활가전</option>
        <!-- 다른 중분류 추가 -->
    </select>

    <br><br>

    <label for="category3">소분류:</label>
    <select id="category3" name="category3">
        <option value="">-- 선택하세요 --</option>
        <option value="TV">TV</option>
        <option value="냉장고">냉장고</option>
        <!-- 다른 소분류 추가 -->
    </select>

    <br><br>

    <label for="category4">세부분류:</label>
    <select id="category4" name="category4">
        <option value="">-- 선택하세요 --</option>
        <option value="LED TV">LED TV</option>
        <option value="스마트 TV">스마트 TV</option>
        <!-- 다른 세부분류 추가 -->
    </select>

    <button type="submit">확인</button>
</form>

<br><br>

<!-- 검색 결과 표시 -->
<table border="1">
    <tr>
        <th>이미지</th>
        <th>상품명</th>
        <th>가격</th>
        <th>카테고리</th>
        <th>상세 링크</th>
    </tr>
    <tr th:each="product : ${products}">
        <td><img th:src="${product.image}" alt="이미지" width="100"></td>
        <td th:text="${product.title}"></td>
        <td th:text="${product.lprice} + ' 원'"></td>
        <td th:text="${product.category1} + ' > ' + ${product.category2} + ' > ' + ${product.category3} + ' > ' + ${product.category4}"></td>
        <td><a th:href="${product.link}" target="_blank">상세 보기</a></td>
    </tr>
</table>

</body>
</html>
